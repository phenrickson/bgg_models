---
title: "Model Results"
format: gfm
editor: visual
author: 
- "`r system('git config user.name', intern = T)`\n"
- "`r system('git symbolic-ref --short HEAD', intern = T)`"
date: "`r Sys.Date()`"
execute:
    echo: false
---

```{r}
#| include: false
#| echo: false

targets::tar_load_globals()

tar_load(predictions)
tar_load(outcome_metrics_all)
tar_load(outcome_metrics_filtered)
tar_load(bgg_hit_metrics)

```

# Storage

```{r}

tar_option_get("resources") |>
    pluck("gcp")

```

# Artifacts

```{r}

targets::tar_meta(
    names = ends_with(c("_fit",
                        "_tuned",
                        "_wflow")),
    targets_only = T,
    fields = c("name",
               "type",
               "time",
               'hash',
               'size',
               'seconds')) |>
    as.data.frame()

```

# Metrics

## Outcomes

Games with at least 25 user ratings

```{r}

outcome_metrics_filtered |>
    mutate_if(is.numeric, round, 2) |>
    pivot_estimates()

```

All games

```{r}

outcome_metrics_all |>
    mutate_if(is.numeric, round, 2) |>
    pivot_estimates()

```

## BGG Hits

Evaluating classification performance where *bgg_hit* is defined as any game above 6.5 on the geek rating.

```{r}

bgg_hit_metrics |>
    mutate_if(is.numeric, round, 2) |>
    pivot_estimates()

```